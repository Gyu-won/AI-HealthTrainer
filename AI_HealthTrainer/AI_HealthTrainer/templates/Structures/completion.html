{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Completion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles/completion.css' %}">
</head>
<body>
<div class="container">
    <div class="text-center mt-5 pt-5 fs-1">
        <span class="text"><b>EXERCISE IS</b></span>
        <span class="orange"><b>COMPLETED</b></span>
            </div>
</div>

<div class="container">
    <div class="grid-container">
    <div class="text-container left">
        <span>CALORIES</span>
        <span>&nbsp;</span></li>
        <div class="rectangle">{{ calories }} kcal</div>
    </div>
    <div class="text-container center">
        <span>TOTAL</span>
        <span>TIME</span>
        <div class="rectangle">{{ total_time }} sec</div>
    </div>    
    <div class="text-container right">
        <span>TOTAL</span>
        <span>REPETITION</span>
        <div class="rectangle">{{ count }} times</div>
        </div>
    </div>
</div>

<div class="ikitomboloke">
    <button type="button" id="finishK" class="btn text-white btn-rounded btn-lg fs-3 btn-custom">Finish&ensp;<i class="bi bi-send-fill"></i></button>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
<script>
    function sendFinish() {
    fetch('/mypage/')
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text();
    })
    .then(html => {
        document.open();
        document.write(html);
        document.close();
    })
    .catch(error => console.error('Error:', error));
}

document.getElementById("finishK").addEventListener("click", function() {
    sendFinish();
});
</script>
</body>
